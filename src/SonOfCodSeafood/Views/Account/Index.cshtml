@using System.Security.Claims
@model IEnumerable<SonOfCodSeafood.Models.Recipient>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@if (User.Identity.IsAuthenticated)
{
    <p>Hello @User.Identity.Name!</p>
    <hr />
<p>Here is the list of Recipients for our News Letter:</p>
    <ul>
        @foreach (var recipient in Model)
        {
            <li>
                <p>@recipient.Email</p>
            </li>
        }
    </ul>

    @using (Html.BeginForm("LogOff", "Account"))
    {
        <input type="submit" class="btn btn-default" value="Log out" />
    }
    <br />
    <p>@Html.ActionLink("Back to Products", "Index", "Product")</p>
    <br />
    <p>@Html.ActionLink("Back to Home", "Index", "Home")</p>

    }
else
{
<hr />
<h3>Please Log in.</h3>
<p>@Html.ActionLink("Login", "Login")</p>

<h3>Not an Admin? Would you like to be? There's no background check. In fact, you don't even have to be an employee! Feel free to wreak havoc on our site!</h3>

<p>@Html.ActionLink("Register", "Register")</p>
<br />
<p>@Html.ActionLink("Back to Home", "Index", "Home")</p>
}
